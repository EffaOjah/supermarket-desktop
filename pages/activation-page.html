<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self'; connect-src 'self' https://web.marybillconglomerate.com.ng;"
    />

    <title>Mary Bill Conglomerate Ltd</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />

    <!-- Icon Font Stylesheet -->
    <link rel="stylesheet" href="../assets/font-awesome/css/all.min.css" />

    <!-- Customized Bootstrap Stylesheet -->
    <link href="../assets/css/bootstrap.css" rel="stylesheet" />

    <!-- Template Stylesheet -->
    <link href="../assets/css/style.css" rel="stylesheet" />
  </head>

  <body class="auth-container">
    <div class="auth-card shadow-lg">
      <div class="auth-logo mb-4">
        <img src="../assets/images/app-icon.jpg" alt="Logo" class="shadow-sm" />
        <h2 class="auth-title mt-3">Software Activation</h2>
        <p class="auth-subtitle">
          Enter your activation key to activate your supermarket suite.
        </p>
      </div>

      <!-- Step 1: Activation Form -->
      <div id="activateDiv1">
        <form id="activationForm">
          <div class="mb-4">
            <div class="input-group auth-input-group">
              <span class="input-group-text bg-light border-end-0">
                <i class="bi bi-key text-primary"></i>
              </span>
              <input
                type="text"
                class="form-control border-start-0 ps-0"
                name="key"
                id="key"
                placeholder="XXXX-XXXX-XXXX-XXXX"
                autofocus
                required
              />
            </div>
            <div id="statusMessage" class="mt-3"></div>
          </div>

          <button type="submit" class="btn-auth">
            <i class="bi bi-shield-check me-2"></i> Activate Now
          </button>
        </form>
      </div>

      <!-- Step 2: Progress Section -->
      <div id="activateDiv2" class="d-none">
        <div class="py-4">
          <div
            class="spinner-border text-primary mb-3 spinner-activation"
            role="status"
          >
            <span class="visually-hidden">Loading...</span>
          </div>
          <h4 class="fw-bold text-main" id="syncTitle">Synchronizing...</h4>
          <p id="status" class="text-muted small">
            Please wait while we set up your branch data.
          </p>

          <div class="progress mt-4 sync-progress-container">
            <div
              id="syncProgress"
              class="progress-bar progress-bar-striped progress-bar-animated bg-primary sync-progress-bar"
              role="progressbar"
              aria-valuenow="0"
              aria-valuemin="0"
              aria-valuemax="100"
            ></div>
          </div>

          <div id="taBtn" class="mt-4 d-none">
            <button id="theBtn" class="btn btn-outline-danger w-100 fw-bold">
              <i class="bi bi-arrow-clockwise me-2"></i> Try Again
            </button>
          </div>
        </div>
      </div>

      <div class="auth-footer text-muted small">
        &copy; 2025 Marybill Conglomerate Ltd. All Rights Reserved.
        <span class="app-version opacity-50">v...</span>
      </div>
    </div>

    <!-- Activation script -->
    <script src="../renderer/activation.js"></script>
    <script src="../assets/bootstrap-5.3.3-dist/js/bootstrap.min.js"></script>
  </body>
</html>
